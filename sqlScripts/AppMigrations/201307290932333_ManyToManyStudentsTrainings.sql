ALTER TABLE [dbo].[Student] DROP CONSTRAINT [FK_dbo.Student_dbo.Training_Training_Id]
DROP INDEX [IX_Training_Id] ON [dbo].[Student]
CREATE TABLE [dbo].[StudentTraining] (
    [Student_Id] [int] NOT NULL,
    [Training_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.StudentTraining] PRIMARY KEY ([Student_Id], [Training_Id])
)
CREATE INDEX [IX_Student_Id] ON [dbo].[StudentTraining]([Student_Id])
CREATE INDEX [IX_Training_Id] ON [dbo].[StudentTraining]([Training_Id])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Student')
AND col_name(parent_object_id, parent_column_id) = 'Training_Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Student] DROP CONSTRAINT ' + @var0)
ALTER TABLE [dbo].[Student] DROP COLUMN [Training_Id]
ALTER TABLE [dbo].[StudentTraining] ADD CONSTRAINT [FK_dbo.StudentTraining_dbo.Student_Student_Id] FOREIGN KEY ([Student_Id]) REFERENCES [dbo].[Student] ([Id])
ALTER TABLE [dbo].[StudentTraining] ADD CONSTRAINT [FK_dbo.StudentTraining_dbo.Training_Training_Id] FOREIGN KEY ([Training_Id]) REFERENCES [dbo].[Training] ([Id])
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201307290932333_ManyToManyStudentsTrainings', 0x1F8B0800000000000400ED1D5D6FE4B8EDBD40FFC3C04F6D81CB24B96BB15D4CEE904B3645709764B193DBD740B13513B7FEAAADC926BFAD0FFD49FD0B953CB64696447DD81E4F76DBB789255114495124452AFFF9D7BF173FBDA4C9EC1997559C6767C1C9D17130C359984771B63E0B3664F5DDBBE0A71F7FFFBBC587287D997D6EFB7DCFFAD1915975163C1152BC9FCFABF009A7A83A4AE3B0CCAB7C458EC23C9DA3289F9F1E1FFF757E7232C714444061CD668B4F9B8CC429AEFFA07F5EE459880BB241C94D1EE1A46ABED396650D75768B525C1528C467C175121E5D228282D97912233AFF1227AB6056FCF0FEB70A2F499967EB6581488C92FBD702D3F6154A2ADC60FBBEF8C115E1E35386F01C65594E28B83CEBB5E0802F852EE6035D34796568D50B3A0B28C6E5C7325FC509163BD2AEBFE0D7CE07FA89762C70495E3FE15533FC3A0A66F3EEB8B93C900F13C6300CE8AF8C7C7F1ACC6E3749821E13CC094529B9247989FF86335C2282A38F88105C666C2CAE57A0CC2ACDC19695D15FED4C942B549C82D955FC82A35F71B6264F7CB61BF4D27EA13F83D96F594CA58F0E22E5068BD86DFF9626BE45CFF1BAE68E84C2A73CC15530FB8493BAB57A8A8BADA41C09347F687A5D9579CA7E7618B26D7C58E69B32642BC9A11EF7A85C63E28EDADD970C47307EACE581F5293B98099FF98C2D4E625B8BAF88CD62BE933CA33C32407D04918DEB238CEDB87D0B249BE7D65F204FFFFC17834036FDCD335FE46981B257C322FDE45A10BF51C45B16257803B8627891A0388545BB6EAE41CBD2BD6BD10AB8D0EC8B52BB9BFAED365903E87662EFDD56AFEA5BD2FD3DB6590FBD2F4DFA19259BE96775D35E3E27D6B05DA31354CDA6EA25ABF7258A3346D66F48543F26D4B8C3D192A092508B920B10FB7D4FADD3BBD5AA6204F354F90DD80F593422D04B5CC5E5F8B83660C7C595224936D5E4DB71B979FC3B0EC9783BB201A8DD94ED7E78E09D76DB526E5336A6D2C1D7845C920D9371FD91D6343EB4B3740E36A551396BD51E231EB77CE5EA912B35C1441BE3E86DB9F60D69B3090E5E77F26E65E8FFE41DCD9F1536F3F02D2F6F2D5829F4E2FE0D4E1FE90EA5E8F51100E681F41182765C5F41B8CD33BB3757623A467754FA1E561779B68ACBB466E47DFE0F9C79CAD6C9E9BB81C7E575D5E08039D17ECEA938A0CC17D2AFA8221F51557DC9CBE80AC5C9A61C854412C86A19672166732D376188ABCAF39807A08F4A77AF992F9E50B6C65AC3AB2FA9962821875BD0675CC6AB383CA04C83987C7829E2B2FED39FDC90DE3BAFAA3C8C6BA0B243FFA009A4511B7B6676DBB6B4EAB87C943E9B84C44512871483B3E04F0A0540B0DCAEEB8295219E04B24ABECB2E7182099E9D87A40EF65FA02A44914A7C4A97A8FB856A715CB2F3142554B954849D274455F97423C7054A8C784BA33CC28E0C333E87DC72890B9CB1C3CEC88B6193F3392472D9A8B3980B226597B4D68636C983624C9B85C1265E4A007A074EBCCA3043F558A61ACC84B03304EEFBE06881EDB8B7FA2F5C712F21DC605F73871A8FDD78AC19745105B8DCF57D6B1A0542DE655B0FD427103F5CA616021807512AAA17014987C1A510C4A371023DA4CE109DF016E73EBBCDA251C110851DB9E3A3A31397EDB65705BBB563A898103A1B2E9BD59F1705FB845F542DC3BA2F31D1DE3DED8C221D82CA4ABBA09A9B2905C6568B5A06B7374CDAD18DD964012138CA0A941D0B2D409AFDAA83C155A30D040FE4A920DAED63012178DB2A10B1518223C848972FE25D83D0497F1B21EB29AB95CBD1DFF1515176569B5600D248927C907457E7B8721E95D42F5BAB1EAC26970D57AB912500E8EEC0C16BD6DC15AB2BB7D8608E5698E3221CEDAE3DF05F0DE8ABA4305B656E769980BAA0840C54002D3101D24E130DA6832694A812C2622938DA0AE202B81E345002B60E5C883A442660BD60341D9C8C87FE0231BA9E68231DDC42E06D8BF93611AFF9B09803197B8B1B54146C05BB91CD97D9729BBE77F1DDD23F912EDDC2988795269F8E63CB67227989D6586A6531D7085FC565C52E50D12362D1A78B2855BAD9EDA176228D59A4B2AD3D91DB41EC77E36A34998C47601AA048C02BBAA694391A75FC5ACF6C75F48CA550A204959A2B938B3CD9A419ECF6C0A377097E228CDD5715D2622E2D437170144A29AE6197FA4EBC810E2C07A6E8CC1B076EE88741846C83482219A1C09219CAADC28EDD57774842BA9A084AF8FC6658DB588FBD79ABC9BC72663030763F9B4DE5AC2F579BF4281144F3C94FC6DC25F5403261B2471CC4429FE4E42415F0D0FD08859ABB24C2525BBD21F394200D5CDEE60E55CD5F12E1AAADDE90B5F8CA6DEE50DB1C26115AFBCD03CA2EA2D7010407FA0EB675B80BD16BE7000E91C3C601471E5A991E8A0FAD27D48F0FBAC41B373E4023FF47F90025B1B872021EEFC00CD360934D2EF3449F4B63822266B8742C40E1BB8F39A964B974CD4AA5D91D76277FA5238862833B3C308B45840D76F2385FAD692D9D13D7DADB7F66FD0C7D2075525874403B1DFCE16FF3597480B72DFE1035392A3AF09A6E23CC2567A138CD2C0F9A5E4376E345AA83CDC36380A7C5DB75AE94217AC1625E1A2F440AA0A9E4F0F25F1EE03C0E617A3FCCC0EB66A783540C7BFB212687F6BCB9A9B9103087ABDA5E869814744D0417B675AF0E06507104B682771003C56E62C66AA2FAB0F528F602CC44C8DDD550108CFFF7646C0B6F04E682170A3D51E391F989B9ABDC5318621BA032F653C4C06DC6B48473C26C184BBD11A2B66714D7B925D715CB2AE589AE8EEBB50B83724B2377E1F600BFAD916E6516CD0D89FDB105E5CA64DB2598D1E53FC711BB2E59BE5604A78D02F9677291C475D642DBE10665F10A57A4B665CE82D3E3E377D2CB0D3D5E5598575594BCE1A7156246016BC189679AB5FCAA42F68CCAF009957F48D1CB1F7D33A53B1228203D4AF98F26FB79C26704F642FCDD654A97F8EA7B01431F0818970D07AA2FDF0B0F74F4EF25FC9D72F141903492675CD457506FBD17D641A5D611FDCD1E02CAC72CB51E08142AB51E07ECB8B8764BAD0789B2523E3DA2341FACDCF62DE9A1B75F3DFB5552EB2D549BDAB78AE6E0576A495B5D305A2DA9D648A9ABEC06978A3EC6162B4585622913EDBB7AD732D13E3C928B445D083AB40674281DC41AD0D1F1054B3CC71235CF0A4E37627959CC031D47734C59AF80E068AF9BEFF3E06B86EAF59988C6E8268031223C44578FEA490E57EB7BF3088C915737021A43A76A776394CA464971AEFED4B487293C483ABCF06B8C52AF4E9954DFE2D441659153D4419A539ABD646D365D49B563F1FEB445F59A6AA8BE8F05F4AECF9FBC1CFFED97E03B9768F382A2894BA77BAAAF91A406CE081C5DD778E9B5431759DB3218FC550D7CD4C8E6AC0C6BFF47CED4BAC3F7D8B164804C2C0FBAABCA6196C3DB960E5F6E1D4040ECC93813C8885B6ECCFE2445F6DD00903AF5F4754A8A257DC9CF3B3D8C845874C9E0B3E5F03231E5D9D247200E7AACB8655DA9C5D52E2FB898C4428E5268C0EDDBF0044B20465713966438FF18CC6124C3A22ABCBC87B72D1B534640FA08C7D4511029918CDF27C975F23247C177816CCF026DD3C7CE82E831A7ECDF46F07CDF0D029F0DD201FF821F0BB4A6E7A1FE9D101DFC2696A29DA469D3CD24345B26D909B932C7AE493785EFCB44A6878974F03D5F2D323D5AA4053FF68B4646861B9E3ED271DD2CC44A0F48027C845931934C7BC741C459EFEA3A73937445E142BC348BA4D2499A76BA7755B42FA968B428E0250199D096EC5C87C54A71E5A14F6A298F1F1997A8E833E90983E1CB1BF9DD244973754A844D0BF5928261CF83F1977B8CAF840119F183B90909AD4DF90C5B72FBC69079C9FA54FB613BEE8004805F33737825CDCEFFA1C4008E0F6DFDD53E8801CB846BD1D4A0CD30EDF2E157CC1C5E47B3CB826451752AF24D44004E716DA9D63E8800CB806B6DD52827F97EC8E0F11C9A5A5043BD32E17F9C2E58F6EF7A078295096538ECF863BCCF75B6CA5BDF50C2A8ED22A549DC608222EAAC9D97245EA190D06696FA562FB74E763F0B3E506B38BACEEE36A4D810BA646A1D279D7F7AC2DC4BD3FCF59B6F5D9C177745FD8F48C65802453366D95C77D9CF9B388938DE579AFC0E0004F35B9BC455C64BC21258D7AF1C92FA0F3E20400DF9B8BB7D8FD322A1C0AABB6C899E318C9B9D865D8A2D2E63B42E515A353076E3E99F54FCA2F4E5C7FF02831E2027A5770000, '5.0.0.net45')
