ALTER TABLE [dbo].[UserProfile] DROP CONSTRAINT [FK_dbo.UserProfile_dbo.Training_Training_Id]
DROP INDEX [IX_Training_Id] ON [dbo].[UserProfile]
CREATE TABLE [dbo].[TrainingUserProfile] (
    [Training_Id] [int] NOT NULL,
    [UserProfile_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.TrainingUserProfile] PRIMARY KEY ([Training_Id], [UserProfile_Id])
)
CREATE INDEX [IX_Training_Id] ON [dbo].[TrainingUserProfile]([Training_Id])
CREATE INDEX [IX_UserProfile_Id] ON [dbo].[TrainingUserProfile]([UserProfile_Id])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.UserProfile')
AND col_name(parent_object_id, parent_column_id) = 'Training_Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[UserProfile] DROP CONSTRAINT ' + @var0)
ALTER TABLE [dbo].[UserProfile] DROP COLUMN [Training_Id]
ALTER TABLE [dbo].[TrainingUserProfile] ADD CONSTRAINT [FK_dbo.TrainingUserProfile_dbo.Training_Training_Id] FOREIGN KEY ([Training_Id]) REFERENCES [dbo].[Training] ([Id])
ALTER TABLE [dbo].[TrainingUserProfile] ADD CONSTRAINT [FK_dbo.TrainingUserProfile_dbo.UserProfile_UserProfile_Id] FOREIGN KEY ([UserProfile_Id]) REFERENCES [dbo].[UserProfile] ([Id])
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201308081539022_ManyToManyTrainingUserProfileOwnership', 0x1F8B0800000000000400ED1D5D73DBB8F1BD33FD0F1A3DB59D39CBC95D3BD71BFB6E1227B9F1DCD9CE44B97BF5C02264B347912A4925F66FEB437F52FF42018904F1B5F8A4483A93378900168BDDC502582C76FFF79FFF9EFDF4B8C9669F7059A5457E3E7F71723A9FE17C5524697E7F3EDFD5EB6FBE9FFFF4E39FFF74F636D93CCE7E6FEB7D4BEB919679753E7FA8EBED0F8B45B57AC01B549D6CD2555954C5BA3E59159B054A8AC5CBD3D37F2E5EBC586002624E60CD66671F76799D6EF0FE0FF97B51E42BBCAD7728BB2A129C55CD7752B2DC439D5DA30DAEB66885CFE797D9EAE40DAAD17CF62A4B11E97F89B3F57CB6FDEE87DF2ABCACCB22BF5F6E519DA2ECE3D31693F235CA2ADC60FBC3F63B57844F5F52841728CF8B9A802BF2A001CFD950C860DE9241D74F14ADFD80CEE704E3F27D59ACD30CF31549D55FF093F0817C2215B7B8AC9F3EE075D3FC3299CF1662BB85DC9035E3DA500CC8AFBCFEF6E57C76BDCB32749761462842C9655D94F8679CE312D538798FEA1A97396D8BF723507A95FAA0C3CAC9AFB627C215224EF3D9BBF41127BFE2FCBE7E60BD5DA1C7F60BF9399FFD96A744FA48A3BADC611EBBC37FA9E36BF429BDDF734742E14391E16A3EFB80B37D69F5906E0F9272C2D1FCB6A9F5AE2C36F4A7C09043E1EDB2D8952B3A9202AAF11195F7B87647EDE6738E13183F5A724BEB940266DC67D6638B135FD6E2EB85CDC712A53961911EA3B654839554A4602697EBB03B5B74F3C2385B28C8906942DB854C95B6DDB1A70BEDE7DA7FBABCFCFB3F0CD3A5A96FEEF9A2D86C51FE6418A4DFACE326472F934F1627787ABA627891A174034FBC7DF11EB43CF7BA12EDF4E38A43666019AC0B64FDA4D313C1B36D3FAA2F69650A986601AB92D4E9EF28DB0DDFAB9BF6F2594FE3668D4E5035932A4856DB65E64B12D5F719D97AE26459A3B226FB5D2640F4F747B277BE59AF2B4A304F95DF807D9B273D027D83ABB4EC1FD7066CBFB81224EB5D35F8745CEEEEFE8557B5F78C94C0EC251D97BE2BB6BC0AEEAABAD818C178EA876678E6FD23ABA4D94036658A9A502AF86EB797F58ECE38FD02DB14DE721BE00E37A55059F9D51ABE8B7FC34F33DD58250DDD9A32986E6D055FBAB5326246ADABA5C1AD2D84916335420E51C0A6C9E3B802E2D5C706AA95F62F684D1A60FBE44EDEC3DCFB4ADEC885A9FFB5C0A8395A95A9531C7299323F950ABE6AC36CE8F05C0D20ECD4F52248C01985BE4A789C84BF4EB38CF4F42A494A5C0DBFF37B8DF23F5EAD56C52EAF4734885E14798D56F57BB2AC1199D78ABF50453B41F535946D11502DCAF827C0FC3A252265F2ED06A5D9E0BD5E56574433B6DDBE2E88B0A0FC580B4DB034CB6ADD22F4E1068BAFAA3D5AA2DE3F14F9F0BD0EB392380BD3CF659A10215DA75F94FD8B8E6AF8CD7091ED367943CCF1166BFE5E58A7DB3A8EDF0A553BDDA6AFA1E836A05A946EBBC29B3BA22B09B621E248D10811C9B65DA8585EEF1589453A4A4CDAE86C91FE7246685E6EF67CFD58FC81734F617BF1F2FBE8B5B8C101278605D905D2AFA8AADFA3AAFA5C94C93BB2ADD895BD904802592DD37C85695FCBDD6AC569DF303B6A0BBD57BA7BF57CF180F27BACB56C87926A8932DF23468F03FA1D97E93A5D8D28D320266F1FB769B9FFEB4F6E48EFBDAAAA6295EE81CA37A6B71A4F85B7793233DF8B1D6825DCA911FAECB23ADD66E98A60703EFF9B4201102C3B93896065882FE6B24ABEC9DFE00CD778F66A55EF7DBD2E50B542894A7C429744FC42B4382EE9EA8E32A25CAA9A6E726B55E593899C6E5166C45B6AE5E1D74131637DC8256FF016E7740362E4455CE7AC0F895C36EA9C2D3891B24B5A6BDE36C98362E7360B834DBC142F9F0E9CB00D3142F518A6EA2D026167F0DB0AC1D102DB716E850F5CB931837083AFCF3AD4D8E5B8C798C15B370E2EBBCD9B9A4681907799D691FA04E2874BD7DC0DF1284A053098402262B39E7482229AEE3CA4D0666EE4BA60E61D11FAE9C9C98BE059A85C554078C2F716DC6C69AEAB3C860FDE76380C7CFC5908613FC02C84F8E1D2357F1D36CA34542FA16CF2A1B991EA45EE347E0FDEAB4AC8A2A7378E6A1627C5F7A1A7454F769990E1BAE899E8C54B4262C8C54BA2AB4BD79C5FD228B3467548B172D9A4ADA3C4E779EA6B10FD2125EF596A6CD9E1C82A20F0A92C4AEE063E9D014668084D9B45BAC396BBCFF02083C594ED460D8FFDE2C12AB4DFA252CDD75E0D6DB7F4137E54CF6CB4FA12D7DAA7129D894987A332661154F39042817138935A1AB70F22B4AD1B23940504E72EA340E904DA02A439FDE860B083A60D04F3F45441B4BB201B351A5DA283D1A96E1B10C9D54285241E885CC8AB4789ED462C20BAB9A183C2CF370B20EE6E4785C3174A70B83924CA2DFF7480ABA47F5C202B77AB4D95A1DFC9B9B242582DA81C9066A6C90BB0383AC79133F754FDB0B58B89D5C067C3D56AD2E300881A2A7ACC9AA75FEAC82D163F479B9FE3201CAD7C47E0BFEA11AF92C26C0374B30272A8734ADA4005D0EEC741EA3475341D201F1D951A2EC6291FF314AF1924756D208FC520C503ED1692682AA92EB32A7DCCB62A376B15CF63B6941AA801DAA78E4C074E94614200E61347034A2829549389CB148CD1206C0B60D0205A838A9B49255C83C8461419523F32A17988622084C3EC80CD03E1A4186A82282F5F0CA4B06E2FA0D36A381906DB6A40EE512A395CCEB03EA7586E4CC29EDB401ECBB9359E4AAD03033BAAB2B2B3C521BC4AF3E16C01C46139BB42DB2DE573D7B2F9325B1E82B25C7CB3F40F8FB239C058AC0431940FD6ACA7BA28D13D964AE99A9CE0776959D187A7E80E51A7928B64A354B31FCCDB8E34E773957BEDD1A76D447F37A6B0263ECD8941A03A02BE2363DA5043D8DE2D4DCF6CB5F58C06C641192A357E99071746D82C07B7EEC2B6F030BAAF2AA4B385340CC5FCA6504AB15D8AD477E20D743270608AEE1CE9C00D7D338890AD6F084F46C85FC40CE55A6147F7D51D1217E68307C57D9E0C6B9B637A306F35112B9C190CB43DCE645339EBCBD526AC040FA2F9E42763EE923A924C98B6F20E62A10F0EE1241570D3E308851AF38187A5967A4366A114347059993B5435EE030F572DF586ACC5572E7387DAC67EE0A1B5DF3CA0748E3A0220D87F0786C5DD9BF2B00CD7A9302CFE224CD0F3860BB2D12635B32205CD69C026E630A5C19663ABF9B1F8D09A37C2F8A07B84EFC607A8E5D87CF8226657675508622B642771E02BDC74AA8C959F87F3B0E4320FA8FCAB6F01245F301D81118DE06152033FD176131D73FBA9CA4FF3969A07D17C7287D1BE8C16C6D17C9B8C8C30B36DF8363C48A5802DA72A11CDAB64618FFDA0795F6882A15547063D34924CF056CE20B1801E2F3B4986A9F17184E3F02A996F7FF8E2638CE19F188BF618BE64322C86DEF3BA72186EEFC0615363931D53E6B2FE59B1914FDC635F814BDC771FAE2B0F7E45D62BC53E8B07F794575C41B8027778E0835E1E3658C9434D5A5FF80A1AD45ADBBF677D0F219084D7BC3AA042057FF887A7BD3AC087127F889AE7BA3AF09A6A3DF4253FC875EA596E34BC8614EFD8D44B0976F10A58A759B9CEFC6CB980D4586EA5AB59951C5E36DF5BF8492BD7BD1F66A00BB9D3D2CCDF87FA21265F877A7353E3AD66BEE26B6B19EEF1201F4638F887E8D71641C51ED80A3AC8458ADDC08C855CCE6CE759AEAAD7B9554349B31759209719981E586DF69D0B44D01B2F824592EEDF1B5C563440038B19E138EC6851D1F89BC12650BE1660EB846E93341C003DD30289DFC2EB41384057B740D4987BD0C08A407196325C1D82EB765BC16FED065CAB8625A01366CF76FD865CC08C1608B1AABBB1414348B357D7E0F4F4C1718A6ADE3C72BBB4283E707215767268BEB0FFCC07AEF13FB32728531CD20E55E63332804F69429DD1964F558D37CDFAF1EFEC224BE95518AB7085F2748DAB7A7FEA399FBF3C3DFD5ECA761690896C51554936E1746429A5803566A0676C2A391359FE0995AB0754FE65831EFFDA53F8454DB0A701D3521D856C9D9399483635FF546CC2A93DFABDB161A47C4547E1818EFE0E62AB0212D20F4541D2489E7150CF207FCF515807A5EE49C86F9AF6B2E833754F245028754F3F60FBC5554CDD1325CA4A3A1EBB34AB4094643C566DA6D1884AFA851EE7D5682948A6A411A79F51644AD41A5842C74B72316DA2EB7356C48154F3501C63168D9CA861DA6C15F22E4441127329DCA5FEAB97603AED7B373E5A828369F35FC8571005295C333C8BBC024761239F52206E49D4A409880228DBB7FA9E8E5388C91FB2C35623EEB74788DE22EE6B6D1BFB58E4D101F525ADDC4330FDD0D1BB06D30FE1911C4ADF85A0B191F263E9C047CAEF1D5F30107E5FA2E619E7DE8D585E86B6484BB1D9DD44AF804CE67F1793E9ADAFF52A504BC79C868CCE2231BABA570374BC5A3F9A21D178D3EE4640E355B95ADD70FB6AA724DF57A419AA45E168B6D9C8296FBEA5EE7FCA0711E5F8533E2A6BC8B0D93C3481F142B394042706193C0FC8F4737F38E78660B1E5389E0D91B3418DFC1318E2362CEC3CF832D8E588EA253486C0029A6565E4EC0E7ED1D55B8FC880A8E7E3B21F7E65362EFB9F4F7C74D12576C8B0E5E34A8EE1CDF3B8A2337A7C73E73C2853101D16E9995FF55C73604C5E70E0780B13941BDF84423ED263597AA408DB3C40BF6444939708DBA37B582E0017D20104C3337380E2C01B12C75F80C8473CE700FA241E08120C7348C0DE65C3F8B6DAF7C83D906CD8DEB5F91F896131902D99322CAF8481CFE28CEB2B8096778103CB83CE7B3E4E4F4C5B3A065617210232099DE1F662F27892229BED01903AF5F43C25C5F2A8159494094988459744AF2DE3CBC4906B4B88408CBAACB83DB00C3B579AC442BEA0D2803BB681D4E308D9CF69D5CF4E6A7CA93A8A6458548597B16ADAB2E1C5A91184C3F2D475F85C7F36ADD19B6CE86E6175308FBF291D52461C9E573F133919F6E8321D691978631A2A30231C63A407C9CC662A67B39079DCBC475711B765913C3C433E9F277705118683E7826F9A4930CBA40EF8677CB745F764AFDD84C67180DFF813683B69CA743D71C5964E3ADDABF4D115E9BAE84A2D3DB02B76A50356A283EF99E4D294E3520BDE3301A631FFA5AE83B0EC98F6E498DABE42F2679AD267820CF7CAAD6949ADA9EBE418A9378D53D190A353371FCDEA45A901CD4D1F35A31C8E4D5ACD41F9D0DAD565EEA683946D3634CBCCCA42A9E4A895CCE4D6D632E92A13D987C8C8AAE4CED42CAC5A2F33A9995EB58F9E7653D2F4427A01D34065E912538DF4384CA6C2E2730376FA5308C93C8961F695FA4F5EFBC478F6630EB5E70CA0E10395761F422687F8611E331D6CF090B5FB154DDCBFF8E11F316DA1666151B2CC9988A06E72E49058F1C3D7DCFC9A73630391AAA217218858B69D4CDC90DB848FE621EB0388F5C8E9610900E7F076C80D6EE77F2C3180BDA836B0EB318801CB846B34D6A8C930ECF0E16CCC0E599EEDB2E0B17499ADF26AFB23ACF4CAED831311AC32E0B55119910C8099DD9ED0D82E07E124309CD2C060A0FD93029607B7E09D3DAAC7E312C4236FB11A9BF16CF16197D347AF877F341CD57D0782069DCCF14A30C9B23A97F9BA682DC412466D15E991D815AE51826AF4AAACD335DD1196057D54BD97A77DF4351AF8E30E2797F9CDAEDEEE6A3264BCB9CB9E7862500BB3A9FF7D726611E7B39B2DFD57F5310482664ADF09DFE4AF77699630BCDF699EB60120A8E9BA09D6407959D3A00DF74F0CD2B592000702D4908F59DC3FE2CD3623C0AA9B7C893E6118373B0D458A9DBD49D17D89365503A36B4FFE12F14B368F3FFE1F78AE504024C10000, '5.0.0.net45')
